<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:d="http://schemas.microsoft.com/dotnet/2021/maui/design"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    x:Class="ProVoiceLedger.Views.HistoryPage"
    Title="Session History"
    BackgroundColor="#FAFAFA"
    mc:Ignorable="d">

	<VerticalStackLayout Padding="20">
		<Label
            Text="Previous Recordings"
            FontSize="24"
            FontAttributes="Bold"
            Margin="0,12"
            TextColor="#2C3E50" />

		<CollectionView x:Name="SessionListView" ItemsSource="{Binding Sessions}">
			<CollectionView.ItemTemplate>
				<DataTemplate>
					<Frame
                        Margin="0,8"
                        Padding="16"
                        BackgroundColor="White"
                        BorderColor="#DDDDDD"
                        HasShadow="True"
                        CornerRadius="12">

						<VerticalStackLayout Spacing="8">
							<Label
                                Text="{Binding Timestamp, StringFormat='Recorded on {0:MMM d, yyyy h:mm tt}'}"
                                FontSize="16"
                                TextColor="#34495E" />

							<Label
                                Text="{Binding Duration, StringFormat='Duration: {0}'}"
                                FontSize="14"
                                TextColor="#7F8C8D" />

							<Label
                                Text="{Binding Notes}"
                                FontSize="14"
                                TextColor="#95A5A6"
                                LineBreakMode="WordWrap" />
						</VerticalStackLayout>
					</Frame>
				</DataTemplate>
			</CollectionView.ItemTemplate>
		</CollectionView>
	</VerticalStackLayout>
</ContentPage>
